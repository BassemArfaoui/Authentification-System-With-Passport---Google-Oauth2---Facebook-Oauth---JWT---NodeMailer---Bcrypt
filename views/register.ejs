<%- include('partials/header') %>
<body>
  

<div class="container mt-5 mb-5">


  <div class="row px-5">
    <div class="container" style="width: 60% !important">

      <div class="card d-flex justify-content-center w-100 rounded-4 border-3 border-dark px-5">

        <div class="card-body ">

          <!-- In case of using express-flash -->
          <!-- <%# if(messages.error){ %>
            <div class="alert alert-danger"><%#= messages.error %></div>
          <%# } %> -->

          <!-- Makes POST request to /register route -->

          <h1 class="text-center  mt-4 fw-bolder text-dark">Register</h1>
          <% if(locals.warning && locals.success) { %>
            <div class="container-fluid d-flex flex-column mt-3 p-0">
              <%  for(const error of warning) { %>
               <div class="error p-0 mx-1 py-2 rounded text-center  border-2 border-danger row d-flex align-items-center my-2" style="border: 3px solid red;background-color: rgba(255, 171, 4, 0.383);">
                  <span class="material-symbols-outlined p-0 m-0 col-1 text-danger">error</span>
                 <p class="fw-bolder text-danger p-0 m-0 px-2 rounded text-center col-11 fs-6" > <%= error.message %></p>
               </div>
               <% } %>
               <% for(const succ of success) {  %>
                 <div class="success p-0 mx-1 py-2 rounded text-center  border-2 border-success row d-flex align-items-center my-2" style="border: 3px solid green;background-color: rgba(172, 255, 47, 0.475);">
                   <span class="material-symbols-outlined p-0 m-0 col-1 text-success"> task_alt</span>
                   <p class="fw-bolder text-success p-0 m-0 rounded text-center col-11 " > <%= succ.message%></p>
                 </div>                
                 <% } %>           
             </div>
          <% } %>
          <form action="/register" method="POST" class="mt-5">
           


            
            <div class="form-group ">
              <label for="name">Username (Don't Include your Name):</label>
              <input type="text" class="form-control border-2 border-dark mt-1" name="name" id="name" oninput="checkName()" required>
              <p class="fw-bold mt-2" id="nameWarning"></p>
            </div>

            <div class="form-group mt-3">
              <label for="email">Email :</label>
              <input type="email" class="form-control border-2 border-dark mt-1" name="email" id="email" required>
              <p class="fw-bold mt-2" id="emailWarning"></p>

            </div>

            <div class="form-group mt-3">
              <label for="password">Password :</label>
              <input type="password" class="form-control border-2 border-dark mt-1" name="password" id="password" required>
              <p class="fw-bold mt-2" id="passwordWarning"></p>

            </div>

            <div class="form-group mt-3">
              <label for="Cpassword">Confirm Password</label>
              <input type="password" class="form-control border-2 border-dark mt-1" name="confirm_password" id="Cpassword" required>
              <p class="fw-bold mt-2" id="CpasswordWarning"></p>

            </div>

            <div class="form-group mt-3">
              <label for="number">Phone number :</label>
              <input type="number" class="form-control border-2 border-dark mt-1" name="number" id="number" required>
              <p class="fw-bold mt-2" id="numberWarning"></p>

            </div>

            <div class="container-fluid d-flex flex-column align-items-center justify-content-md-center mt-4">
              <button type="submit" class="btn btn-dark fw-bold px-3  border-3 border-dark d-flex align-items-center lh-base">Register</button>
              <p class="text-secondary text-center my-3">Already have an account ? <a href="/login"> Login</a></p>
            </div>
          </form>


          <p class="text-center mt-4">OR :</p>

          <div class="container-fluid mb-5">
            <form action="/auth/google" class="d-flex justify-content-center mt-3 ">
              <button class="btn btn-dark fw-boldpe-4  d-flex align-items-center" type="submit" style="width:90%">
                <i class="fa-brands fa-google p-0 m-0  lh-lg text-center " style="width:13%"></i>
                <p class="text-center  p-0 m-0 lh-lg" style="width:80%"> Continue with Google</p>
              </button>
            </form>
  
            <form action="/auth/facebook" class="d-flex justify-content-center mt-3 ">
              <button class="btn btn-primary fw-boldpe-4  d-flex align-items-center" type="submit" style="width:90%">
                <i class="fa-brands fa-facebook-f p-0 m-0 lh-lg text-center " style="width:13%"></i>
                <p class="text-center  p-0 m-0 lh-lg" style="width:80%"> Continue with Facebook</p>
              </button>
            </form>
          </div>





        </div>
      </div>

    </div>



  </div>
</div>


<script type="module" src="js/form-validation.js"></script>

<%- include('partials/footer') %>
